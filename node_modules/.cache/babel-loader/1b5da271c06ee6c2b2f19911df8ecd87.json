{"ast":null,"code":"import t, { useEffect as e, useMemo as r, useState as o } from \"react\";\nimport a from \"../use-real-shape\";\nimport i from \"../use-current-state\";\nimport s from \"../use-resize\";\nimport { useDOMRef as m } from \"../utils/dom\";\nimport { __DEV__ as n } from \"../utils/assertion\";\nimport c from \"../utils/clsx\";\nimport { StyledImage as u, StyledImageContainer as l } from \"./image.styles\";\nimport p from \"./image.skeleton\";\nimport { jsx as f } from \"react/jsx-runtime\";\nimport { jsxs as d } from \"react/jsx-runtime\";\nexport const Image = t.forwardRef((t, n) => {\n  const {\n    src: g,\n    width: h,\n    height: x,\n    showSkeleton: w = !0,\n    className: y,\n    maxDelay: j = 3e3,\n    autoResize: I = !1,\n    objectFit: N = \"scale-down\",\n    containerCss: b,\n    css: T,\n    ...$\n  } = t,\n        k = m(n),\n        [z, F] = o(!0),\n        [R, S] = o(w),\n        {\n    w: C,\n    h: D\n  } = r(() => ({\n    w: h ? \"number\" == typeof h ? `${h}px` : h : \"auto\",\n    h: x ? \"number\" == typeof x ? `${x}px` : x : \"auto\"\n  }), [h, x]),\n        [L, U, q] = i(D),\n        [v, A] = a(k),\n        B = w && !!h && !!x;\n  e(() => {\n    k.current && k.current.complete && (F(!1), S(!1));\n  }), e(() => {\n    const t = setTimeout(() => {\n      B && S(!1), clearTimeout(t);\n    }, j);\n    return () => clearTimeout(t);\n  }, [z]), e(() => {\n    if (!I) return;\n    const t = 0 === v.width,\n          e = \"auto\" === q.current;\n    !t && h && x && (v.width < h ? !e && U(\"auto\") : e && U(D));\n  }, [v, h]), s(() => {\n    I && A();\n  });\n  const E = r(() => z ? \"loading\" : \"ready\", [z]);\n  return d(l, {\n    className: c(\"nextui-image-container\", `nextui-image--${E}`, y),\n    css: {\n      width: C,\n      height: L,\n      ...b\n    },\n    \"data-state\": E,\n    ready: !z || R,\n    children: [R && f(p, {\n      opacity: 1\n    }), f(u, {\n      ref: k,\n      alt: t.alt || \"\",\n      className: \"nextui-image\",\n      css: {\n        objectFit: N,\n        ...T\n      },\n      \"data-state\": E,\n      height: x,\n      src: g,\n      width: h,\n      onLoad: () => {\n        F(!1);\n      },\n      ...$\n    })]\n  });\n});\nn && (Image.displayName = \"NextUI.Image\"), Image.toString = () => \".nextui-image\";\nexport default t.memo(Image);","map":{"version":3,"sources":["/Users/vux/dev/react-project1/node_modules/@nextui-org/react/esm/image/image.js"],"names":["t","useEffect","e","useMemo","r","useState","o","a","i","s","useDOMRef","m","__DEV__","n","c","StyledImage","u","StyledImageContainer","l","p","jsx","f","jsxs","d","Image","forwardRef","src","g","width","h","height","x","showSkeleton","w","className","y","maxDelay","j","autoResize","I","objectFit","N","containerCss","b","css","T","$","k","z","F","R","S","C","D","L","U","q","v","A","B","current","complete","setTimeout","clearTimeout","E","ready","children","opacity","ref","alt","onLoad","displayName","toString","memo"],"mappings":"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","sourcesContent":["import t,{useEffect as e,useMemo as r,useState as o}from\"react\";import a from\"../use-real-shape\";import i from\"../use-current-state\";import s from\"../use-resize\";import{useDOMRef as m}from\"../utils/dom\";import{__DEV__ as n}from\"../utils/assertion\";import c from\"../utils/clsx\";import{StyledImage as u,StyledImageContainer as l}from\"./image.styles\";import p from\"./image.skeleton\";import{jsx as f}from\"react/jsx-runtime\";import{jsxs as d}from\"react/jsx-runtime\";export const Image=t.forwardRef(((t,n)=>{const{src:g,width:h,height:x,showSkeleton:w=!0,className:y,maxDelay:j=3e3,autoResize:I=!1,objectFit:N=\"scale-down\",containerCss:b,css:T,...$}=t,k=m(n),[z,F]=o(!0),[R,S]=o(w),{w:C,h:D}=r((()=>({w:h?\"number\"==typeof h?`${h}px`:h:\"auto\",h:x?\"number\"==typeof x?`${x}px`:x:\"auto\"})),[h,x]),[L,U,q]=i(D),[v,A]=a(k),B=w&&!!h&&!!x;e((()=>{k.current&&k.current.complete&&(F(!1),S(!1))})),e((()=>{const t=setTimeout((()=>{B&&S(!1),clearTimeout(t)}),j);return()=>clearTimeout(t)}),[z]),e((()=>{if(!I)return;const t=0===v.width,e=\"auto\"===q.current;!t&&h&&x&&(v.width<h?!e&&U(\"auto\"):e&&U(D))}),[v,h]),s((()=>{I&&A()}));const E=r((()=>z?\"loading\":\"ready\"),[z]);return d(l,{className:c(\"nextui-image-container\",`nextui-image--${E}`,y),css:{width:C,height:L,...b},\"data-state\":E,ready:!z||R,children:[R&&f(p,{opacity:1}),f(u,{ref:k,alt:t.alt||\"\",className:\"nextui-image\",css:{objectFit:N,...T},\"data-state\":E,height:x,src:g,width:h,onLoad:()=>{F(!1)},...$})]})}));n&&(Image.displayName=\"NextUI.Image\"),Image.toString=()=>\".nextui-image\";export default t.memo(Image);"]},"metadata":{},"sourceType":"module"}